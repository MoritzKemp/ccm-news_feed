!function(){function e(){window.ccm[i].component(t)}var t={name:"news_feed",ccm:"https://akless.github.io/ccm/version/ccm-11.2.0.min.js",config:{html:{inputArea:{tag:"div",class:"new-post-container",inner:[{tag:"form",class:"new-post-form",onsubmit:"%action%",inner:[{tag:"div",class:"new-post-input",inner:[{tag:"input",class:"new-post-title",type:"text",placeholder:"Title goes here ..."},{tag:"textarea",class:"new-post-text",rows:"3",placeholder:"Something really important ...   "}]},{tag:"input",class:"new-post-submit",type:"submit",disabled:"true"}]}]},postsArea:{tag:"div",class:"posts-area"},post:{tag:"div",class:"post",inner:[{tag:"div",class:"head",inner:[{tag:"div",class:"user",inner:[{tag:"div",class:"name",inner:"%user%"},{tag:"div",class:"%avatar%"}]},{tag:"div",class:"title",inner:[{tag:"div",class:"date",inner:"%date%"},{tag:"div",inner:"%title%"}]},{tag:"div",class:"status-indicator",inner:[{tag:"div",class:"%status%"}]}]},{tag:"div",class:"content",inner:{tag:"div",inner:"%text%"}}]}},css:["ccm.load","https://MoritzKemp.github.io/ccm-news_feed/resources/style.css"],newsStore:["ccm.store",{store:"moritz_kemp_news_feed",url:"https://ccm.inf.h-brs.de"}],user:{},offlineMode:"false"},Instance:function(){const e=this;let t={};this.ready=function(n){(t=e.ccm.helper.privatize(e)).user.addObserver("newsfeed",toggleSendButtonState),n&&n()},this.start=function(e){t.newsStore.get(render),e&&e()},render=function(e){renderInputArea(),renderPostArea(),renderPosts(e)},renderInputArea=function(){let n=e.ccm.helper.html(t.html.inputArea,{action:onPostSend});e.element.appendChild(n)},renderPostArea=function(){let n=e.ccm.helper.html(t.html.postsArea);e.element.appendChild(n)},renderPosts=function(e){e.forEach(renderSinglePost)},renderSinglePost=function(t){let n=e.element.querySelector(".posts-area");n.insertBefore(getPostHtml(t),n.childNodes[0])},getPostHtml=function(n){return e.ccm.helper.html(t.html.post,{title:n.title,date:n.date,user:n.user,text:n.text})},onPostSend=function(n){n.preventDefault(),newPostTextElem=e.element.querySelector(".new-post-text"),newPostTitleElem=e.element.querySelector(".new-post-title");const s=newPostTextElem.value,i=newPostTitleElem.value;newPostTextElem.value="",newPostTitleElem.value="";const r={title:i,text:s,date:getDateTime(),user:t.user.data().user||""};t.newsStore.set(r)},getDateTime=function(){let e=new Date,t=e.getDate(),n=e.getMonth(),s=e.getFullYear(),i=e.getHours(),r=e.getMinutes(),c=["Januar","Februar","MÃ¤rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"];return t<10&&(t="0"+t),i<10&&(i="0"+i),r<10&&(r="0"+r),t+" "+c[n].substring(0,3)+". "+s+" "+i+":"+r},toggleSendButtonState=function(t){e.element.querySelector(".new-post-submit").disabled=!t}}},n="ccm."+t.name+(t.version?"-"+t.version.join("."):"")+".js";if(window.ccm&&null===window.ccm.files[n])window.ccm.files[n]=t;else{var s=window.ccm&&window.ccm.components[t.name];s&&s.ccm&&(t.ccm=s.ccm),"string"==typeof t.ccm&&(t.ccm={url:t.ccm});var i=t.ccm.url.split("/").pop().split("-");if(i.length>1?((i=i[1].split(".")).pop(),"min"===i[i.length-1]&&i.pop(),i=i.join(".")):i="latest",window.ccm&&window.ccm[i])e();else{var r=document.createElement("script");document.head.appendChild(r),t.ccm.integrity&&r.setAttribute("integrity",t.ccm.integrity),t.ccm.crossorigin&&r.setAttribute("crossorigin",t.ccm.crossorigin),r.onload=function(){e(),document.head.removeChild(r)},r.src=t.ccm.url}}}();